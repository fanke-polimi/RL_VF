import numpy as np


class stereoCamera(object):
    def __init__(self):
 
        #                                 ])
        self.cam_matrix_left = np.array([   [1767.030733, 0.000000, 876.708086],
                                         [0.000000, 1799.851340, 551.005686], 
                                         [0.000000, 0.000000, 1.000000]
                                                ])
        # 右相机内参

        self.cam_matrix_right = np.array([  [1764.816374, 0.000000, 998.422211], 
                                          [0.000000, 1800.432199, 606.726727], 
                                          [0.000000 ,0.000000, 1.000000]
                                                ])

        # 左右相机畸变系数:[k1, k2, p1, p2, k3]
        self.distortion_l = np.array([[-0.345310, 0.473914, -0.008209, 0.002475, 0.000000]])
        self.distortion_r = np.array([[-0.353836, 0.502148, -0.007582, -0.001292, 0.000000]])


        self.R = np.array([ [0.9999221419601694, -0.00835058176818008, -0.009272421577981228],
                           [0.008042339532302567, 0.9994296821630961, -0.03279681670863498], 
                           [0.009541005850225475, 0.032719691250156585, 0.9994190267409664]   
                                                ])

        # 平移矩阵
        self.T = np.array([[-0.005650952302896948], [-0.0005470059901652066], [-0.0014672365376652]])
  
        # 焦距
        # self.focal_length = 859.367 # 默认值，一般取立体校正后的重投影矩阵Q中的 Q[2,3]

        self.P1 = np.array([ [1793.777940, 0.000000, 906.979347, 0.000000],
                        [0.000000, 1793.777940, 559.420479, 0.000000],
                        [0.0, 0.0, 1.0, 0.0]   
                                                ])
        self.P2 = np.array([ [1793.777940, 0.000000, 906.979347, -10.936600],
                        [0.000000, 1793.777940, 559.420479, 0.000000],
                        [0.0, 0.0, 1.0, 0.0]   
                                                ])
        self.R1 = np.array([ [0.999244, -0.034451, -0.018003],
                        [0.034239, 0.999342, -0.011940],
                        [0.018403, 0.011315, 0.999767]   
                                                ])
        self.R2 = np.array([ [0.999567, -0.024760, -0.015921],
                        [0.024943, 0.999623, 0.011432],
                        [0.015632, -0.011824, 0.999808]   
                                                ])
        self.P1 = np.array([ [1793.777940, 0.000000, 906.979347, 0.000000],
                        [0.000000, 1793.777940, 559.420479, 0.000000],
                        [0.0, 0.0, 1.0, 0.0]   
                                                ])

        # 基线距离
        self.baseline = 60.2